{% extends "base.html" %}

{% block content %}

  <div class="row mb-4">
    <div class="col">
      <h1 class="display-4">
        <strong>TODO list</strong>
      </h1>
    </div>
    <div class="col text-right">
      <a href="{%  url 'tracker:task-create' %}" class="btn btn-primary link-to-page">
        Add task
      </a>
    </div>
  </div>
  {% if task_list %}
      {% for task in task_list %}
          <p>
            <h5><strong>{{ task.content }}</strong>
            {% if not task.done %}
              <a href="#" class="btn btn-success btn float-right">Complete</a>
            {% else %}
              <a href="#" class="btn btn-secondary btn float-right">Undo</a>
            {% endif %}
            <strong>{% if task.done %}<span class="done">Done</span>{% else %}<span class="notdone">Not done</span>{% endif %}</strong>
          </h5>
          </p>
        <p><span class="time">Created: {{ task.created_datetime }}
            {% if task.done %}
              <span class="deadline">Deadline: {{ task.deadline_datetime}}</span></span>
            {% endif %}
          </p>
          <p>
          <h5>
          <span class="tag-name"> Tags:
            {% for tag in task.tags.all %}
              {{ tag.name }}
              {% if forloop.last %}</span>
                <a href="{% url 'tracker:task-update' pk=task.id %}">Update</a>
                <a href="{% url 'tracker:task-delete' pk=task.id %}">Delete</a>
              {% endif %}
            {% endfor %}
          </h5>
          </p>
          <hr>
      {% endfor %}
  {% else %}
    <div class="col">
      <p>There are no tasks for tracking.</p>
    </div>
  {% endif %}

{% endblock %}
